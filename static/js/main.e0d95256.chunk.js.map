{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","images","frameSize","itemWidth","step","animationDuration","useState","translateX","setTranslateX","imageWidth","containerWidth","length","scrollWidth","isPrevDisabled","isNextDisabled","useEffect","maxTranslateX","className","style","width","transform","transition","map","image","i","src","alt","String","height","type","disabled","onClick","imagesLeft","prev","imagesRight","pictures","App","state","handleChange","event","target","name","checked","value","setState","prevState","this","action","htmlFor","id","min","onChange","max","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0d95256.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[],\n  frameSize: number,\n  itemWidth: number,\n  step: number,\n  animationDuration: number,\n};\n\nconst Carousel: React.FC<Props> = ({\n  images,\n  frameSize,\n  itemWidth,\n  step,\n  animationDuration,\n}) => {\n  const [translateX, setTranslateX] = useState(0);\n\n  const margin = 20;\n  const imageWidth = itemWidth + margin;\n  const containerWidth = images.length * imageWidth;\n  const startOffset = 0;\n  const scrollWidth = step * imageWidth;\n  const isPrevDisabled = translateX === startOffset;\n  const isNextDisabled\n  = -translateX === containerWidth - (frameSize * imageWidth);\n\n  useEffect(() => {\n    const maxTranslateX = -(containerWidth - frameSize * imageWidth);\n\n    if (translateX < maxTranslateX) {\n      setTranslateX(maxTranslateX);\n    } else if (translateX > 0) {\n      setTranslateX(0);\n    }\n  }, [itemWidth, images.length, frameSize, containerWidth]);\n\n  const handlePrevClick = () => {\n    const imagesLeft = (-translateX) / imageWidth;\n\n    if (imagesLeft - step < 0) {\n      setTranslateX(prev => prev + imagesLeft * imageWidth);\n    } else {\n      setTranslateX(prev => prev + scrollWidth);\n    }\n  };\n\n  const handleNextClick = () => {\n    const imagesRight = (containerWidth + translateX) / imageWidth;\n\n    if (imagesRight - frameSize < step) {\n      setTranslateX(prev => prev - (imagesRight - frameSize) * imageWidth);\n    } else {\n      setTranslateX(prev => prev - scrollWidth);\n    }\n  };\n\n  return (\n    <div\n      className=\"Carousel\"\n      style={\n        {\n          width: `${frameSize * (itemWidth + margin)}px`,\n        }\n      }\n    >\n      <ul\n        className=\"Carousel__list\"\n        style={\n          {\n            transform: `translateX(${translateX}px)`,\n            transition: `all ${animationDuration}ms`,\n          }\n        }\n      >\n        {\n          images.map((image, i) => (\n            <li\n              className=\"Carousel__item\"\n              key={image}\n            >\n              <img\n                src={image}\n                alt={String(i + 1)}\n                className=\"Carousel__img\"\n                width={itemWidth}\n                height={itemWidth}\n              />\n            </li>\n          ))\n        }\n      </ul>\n\n      <div className=\"Carousel__buttons\">\n        <button\n          type=\"button\"\n          disabled={isPrevDisabled}\n          onClick={handlePrevClick}\n          className=\"Carousel__button\"\n        >\n          Prev\n        </button>\n\n        <button\n          type=\"button\"\n          disabled={isNextDisabled}\n          onClick={handleNextClick}\n          data-cy=\"next\"\n          className=\"Carousel__button\"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface AppState {\n  images: string[];\n  step: number,\n  itemWidth: number,\n  frameSize: number,\n  animationDuration: number,\n}\n\nconst pictures = [\n  './img/1.png',\n  './img/2.png',\n  './img/3.png',\n  './img/4.png',\n  './img/5.png',\n  './img/6.png',\n  './img/7.png',\n  './img/8.png',\n  './img/9.png',\n  './img/10.png',\n];\n\nclass App extends React.Component<{}, AppState> {\n  state = {\n    images: pictures,\n    step: 3,\n    itemWidth: 130,\n    frameSize: 3,\n    animationDuration: 1000,\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const {\n      name,\n      type,\n      checked,\n      value,\n    } = event.target;\n\n    this.setState((prevState) => ({\n      ...prevState,\n      [name]: type !== 'checkbox' ? +value : checked,\n    }));\n  };\n\n  render() {\n    const {\n      animationDuration,\n      itemWidth,\n      frameSize,\n      images,\n      step,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        {/* eslint-disable-next-line */}\n        <h1 className=\"title\"\n          data-cy=\"title\"\n        >\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <form className=\"form\" action=\"/\">\n          <label htmlFor=\"itemId\" className=\"label\">\n            <span>\n              Item Width:\n            </span>\n            <input\n              name=\"itemWidth\"\n              type=\"number\"\n              id=\"itemId\"\n              min={130}\n              className=\"form__input\"\n              value={itemWidth}\n              onChange={this.handleChange}\n            />\n          </label>\n\n          <label htmlFor=\"frameId\" className=\"label frame-size\">\n            <span>\n              Frame Size:\n            </span>\n            <input\n              name=\"frameSize\"\n              type=\"number\"\n              id=\"frameId\"\n              min={1}\n              max={10}\n              className=\"form__input\"\n              value={frameSize}\n              onChange={this.handleChange}\n            />\n          </label>\n\n          <label htmlFor=\"stepId\" className=\"label step\">\n            <span>\n              Step:\n            </span>\n            <input\n              name=\"step\"\n              type=\"number\"\n              id=\"stepId\"\n              className=\"form__input\"\n              min={1}\n              value={step}\n              onChange={this.handleChange}\n            />\n          </label>\n\n          <label htmlFor=\"animationDuration\" className=\"label\">\n            <span>\n              Animation duration:\n            </span>\n            <input\n              name=\"animationDuration\"\n              type=\"number\"\n              id=\"animationDuration\"\n              min={500}\n              step={500}\n              className=\"form__input\"\n              value={animationDuration}\n              onChange={this.handleChange}\n            />\n          </label>\n        </form>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}